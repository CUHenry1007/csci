# CSCI2100A Project 2

Name:	Yeung Paak Hang

SID:	1155213281

**It is a Project using C++ language.**

## Guideline

### Step1: Use Microsoft Visual Studio

My program is call **main.cpp** and **toy_memory.h**. Besides, there is an **inputs.txt**, to store the unsorted data.
First, open Microsoft Visual Studio to create **main.cpp**, **toy_memory.h**, and **inputs.txt**, then copy all the content from my 3 files to the created file. (Do not directly upload my file in Micorsoft Visual Studio, as sometimes it can't run the program when uploaded the file but can work when you create the new file and copy the same content.)

![image](https://i.ibb.co/th2TPmY/1.png)
![image](https://i.ibb.co/Yyg4H1N/2.png)

### Step2: Run the program

After run the program by the green triangle button, wait around 1 to 2 minutes, the value of H, the total overhead will be printed.
![image](https://i.ibb.co/mGYxxkF/3.png)

Besides, there will be 3 output files: **scratch.txt**, **sorted_binary_numbers.txt** and **outputs.txt**.
![image](https://i.ibb.co/vcLJSQ1/4.png)

## Explaination of the 3 output files

### scratch.txt

![image](https://i.ibb.co/7JDB5xZ/5.png)

Scratch.txt is a temporary file that store the data after converted from ASCII(decimal) to binary(ieee 754 floating point). Therefore you can ignore this file as it is not the requirements and final products. It is generated by function read_file in structure SecStore by reading the file inputs.txt and call the function printIEEE and printBinary to converted the data from ASCII(decimal) to binary(ieee 754 floating point). Finally write the data into scratch.txt.

![image](https://i.ibb.co/TwJT6HD/9.png)


### sorted_binary_numbers.txt

![image](https://i.ibb.co/MBZ4YpH/6.png)

Sorted_binary_numbers.txt is also a temporary file that store the data after finished the k-way merge sort, but it is in binary(ieee 754 floating point) format. Therefore you can ignore this file as it is not the requirements and final products. It is generated by function write_file in structure BufferPool, which involves k-way merge sort, which have explained in the report.


### outputs.txt

![image](https://i.ibb.co/N979F4w/7.png)
![image](https://i.ibb.co/0rP1Fkc/8.png)

Outputs.txt is the final output file, which contains the sorted data in ASCII(decimal) format. From the picture, you can see they are in ASCII(decimal) format and sorted. Also, there are total N = 200000 data in the outputs.txt, which should be correct. It is generated by function write_file in structure SecStore, by reading the file sorted_binary_numbers.txt, and call the function convertToInt to converted the sorted data from binary(ieee 754 floating point) to ASCII(decimal). Finally write the data into outputs.txt.

![image](https://i.ibb.co/4fNMpQq/10.png)

## Explaination of the H

The print out message H, represents the total overhead of the program. There are two part which involves the H. The first part is in the function firstread in structure SecStoreManager. During the merge sort for the each chunks, it will count the overhead for each merge sort for a chunk.

![image](https://i.ibb.co/kyYdWHz/12.png)

The second part is in the function step1 in structure BufferPool. During the k-way merge sort, it will count the overhead for every time take the data from chunks.

![image](https://i.ibb.co/LtSSzZ6/11.png)

The detailed of H have also been explained in report and the comment.

## Important notes

1. Most of the function are generated from AI and from the code existing on Internet. I think an idea and try to find is there any exist code. As the code is not 100% correct and it may not be
   suitable in the project, so I do some modification. For reference, I have listed in report. Besides, I suggest do not expand the function if you want to read my comments, like this:

   ![image](https://i.ibb.co/jHJkCTq/13.png)

   It is because some comments are generated from the AI and included in existing code, that is not my comments. Only the comment that is outside the function, is written by me. Except the function
    **firstread** in structure SecStoreManager, as the function is almost 100% written by me.

2. Although some function may appear in the different structure in your requirement, such as a write function in BufferPool, merge sort in SecStoreManager, and sending whole vector to BufferPool.
   However, I have checked and ensured the program is correct. For example,
   
     The specification didn't said I can't have a write function in BufferPool;
   
     SecStoreManager just call the merge function, I have do all merge sort in BufferPool;
   
     In the k-ways merge sort, I only allow the data that its size is smaller than B, there will be no exceeded size data process in BufferPool.





